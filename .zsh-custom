# Turn off tmux in Emacs
if [ "$TERM" != "eterm-color" ]; then 
    if [ "$TMUX" = "" ]; then tmux; fi
fi

# Save Emacs from serious pane when trying to use Tramp.
if [[ $TERM == "dumb" ]]; then # in Emacs
    PS1='%(?..[%?])%!:%~%# '
    # for tramp to not hang, need the following. cf:
    # http://www.emacswiki.org/emacs/TrampMode
    unsetopt zle
    unsetopt prompt_cr
    unsetopt prompt_subst
    unfunction precmd
    unfunction preexec
fi

# VirtualEnv stuff
# export VIRTUALENVWRAPPER_PYTHON=/usr/local/bin/python
# export WORKON_HOME=$HOME/.virtualenvs
# export PROJECT_HOME=$HOME/Developer
# source /usr/local/bin/virtualenvwrapper.sh
# source /usr/local/opt/autoenv/activate.sh
# export VIRTUAL_ENV_DISABLE_PROMPT=1

# User configuration
alias ls="ls --color=auto -GF"

if [[ `uname` == 'Darwin' ]] ; then 
    # OS X specific
    alias rmlogs="sudo rm /private/var/log/asl/*.asl"
    alias showhidden="defaults write com.apple.finder AppleShowAllFiles ON"
    alias hidehidden="defaults write com.apple.finder AppleShowAllFiles OFF"
    alias emacs="/Applications/Emacs.app/Contents/MacOS/Emacs "$@""
    alias todo="echo && cat ~/Org/todo.org | grep 'TODO' && echo"
    alias hibernateon="sudo pmset -a hibernatemode 5"
    alias hibernateoff="sudo pmset -a hibernatemode 0"

    # Path
    export PATH="/usr/local/opt/coreutils/libexec/gnubin:/usr/local/bin:/usr/local/sbin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/usr/texbin:/usr/local/opt/llvm/bin:/usr/local/opt/llvm/share/llvm:$PATH"
fi

alias jsonify="python -m json.tool | pygmentize -l javascript"
alias ec="emacsclient"
alias gitrs="git fetch; git reset --hard origin/master"

# Pretty LS_COLORS
eval `dircolors ~/.dircolors.ansi-universal`

export NVM_DIR=~/.nvm
source $(brew --prefix nvm)/nvm.sh

 #Rbenv
export PATH="$HOME/.rbenv/bin:$PATH"
eval "$(rbenv init -)"

export GOPATH=$HOME/Developer/go
export PATH=$PATH:$GOROOT/bin:$GOPATH/bin
